<template>
    <div>
        <div class="d-flex gap-2">
            <div class="clicked" @click="viewClicked" :id="'viewOffer' + id">
                <Tooltip v-if="true" message="View Offer" :target="'viewOffer' + id" />

                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                    <path
                        d="M12 9.5C12.7956 9.5 13.5587 9.81607 14.1213 10.3787C14.6839 10.9413 15 11.7044 15 12.5C15 13.2956 14.6839 14.0587 14.1213 14.6213C13.5587 15.1839 12.7956 15.5 12 15.5C11.2044 15.5 10.4413 15.1839 9.87868 14.6213C9.31607 14.0587 9 13.2956 9 12.5C9 11.7044 9.31607 10.9413 9.87868 10.3787C10.4413 9.81607 11.2044 9.5 12 9.5ZM12 5C17 5 21.27 8.11 23 12.5C21.27 16.89 17 20 12 20C7 20 2.73 16.89 1 12.5C2.73 8.11 7 5 12 5ZM3.18 12.5C3.98825 14.1503 5.24331 15.5407 6.80248 16.5133C8.36165 17.4858 10.1624 18.0013 12 18.0013C13.8376 18.0013 15.6383 17.4858 17.1975 16.5133C18.7567 15.5407 20.0117 14.1503 20.82 12.5C20.0117 10.8497 18.7567 9.45925 17.1975 8.48675C15.6383 7.51424 13.8376 6.99868 12 6.99868C10.1624 6.99868 8.36165 7.51424 6.80248 8.48675C5.24331 9.45925 3.98825 10.8497 3.18 12.5Z"
                        fill="#2A9928" />
                </svg>
            </div>
            <div v-if="userCan('depositor/repos/give-counter')" class="clicked" @click="counterClicked"
                :id="'counterOffer' + id">
                <Tooltip v-if="true" message="Counter " :target="'counterOffer' + id" />
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                    <path
                        d="M10.729 3.21211C10.9589 2.98228 11.2358 2.80498 11.5408 2.69242C11.8457 2.57986 12.1714 2.53471 12.4955 2.56009C12.8196 2.58546 13.1343 2.68075 13.418 2.83941C13.7017 2.99806 13.9477 3.2163 14.139 3.47911L14.459 3.91911L7.98599 10.3931L7.60599 10.1401C7.32909 9.95538 7.09662 9.71151 6.92536 9.42609C6.75409 9.14066 6.64828 8.82079 6.61557 8.48954C6.58285 8.15828 6.62405 7.8239 6.73617 7.51048C6.8483 7.19707 7.02857 6.91244 7.26399 6.67711L10.729 3.21211ZM9.25899 11.2421L11.821 12.9491C11.9083 13.0078 11.9803 13.0818 12.037 13.1711L13.271 15.1091L19.282 9.09711L17.132 7.53411C17.0691 7.48717 17.0136 7.43124 16.967 7.36811L15.353 5.14811L9.25899 11.2421ZM14.364 16.8261L14.096 16.4061L20.51 9.99011L21.02 10.3621C21.2829 10.5533 21.5012 10.7992 21.6599 11.0829C21.8187 11.3666 21.9141 11.6813 21.9395 12.0054C21.965 12.3294 21.92 12.6552 21.8075 12.9602C21.695 13.2652 21.5178 13.5422 21.288 13.7721L17.852 17.2091C17.6137 17.4475 17.325 17.6293 17.007 17.7411C16.6891 17.853 16.3501 17.8919 16.0151 17.8552C15.68 17.8184 15.3576 17.7068 15.0714 17.5287C14.7853 17.3506 14.5429 17.1105 14.362 16.8261M9.33999 12.7991L3.26699 18.7571C3.09521 18.9179 2.95742 19.1115 2.86177 19.3265C2.76612 19.5415 2.71454 19.7735 2.71009 20.0087C2.70564 20.244 2.74841 20.4777 2.83587 20.6962C2.92333 20.9146 3.05371 21.1133 3.21928 21.2805C3.38486 21.4477 3.58228 21.5799 3.79986 21.6695C4.01745 21.7591 4.25078 21.8041 4.48607 21.8019C4.72136 21.7997 4.95382 21.7504 5.16971 21.6568C5.3856 21.5632 5.58054 21.4273 5.74299 21.2571L11.828 15.1721L11.038 13.9311L9.33999 12.7991ZM14.75 19.5001C14.5511 19.5001 14.3603 19.5791 14.2197 19.7198C14.079 19.8604 14 20.0512 14 20.2501C14 20.449 14.079 20.6398 14.2197 20.7804C14.3603 20.9211 14.5511 21.0001 14.75 21.0001H12.75C12.5511 21.0001 12.3603 21.0791 12.2197 21.2198C12.079 21.3604 12 21.5512 12 21.7501C12 21.949 12.079 22.1398 12.2197 22.2804C12.3603 22.4211 12.5511 22.5001 12.75 22.5001H21.25C21.4489 22.5001 21.6397 22.4211 21.7803 22.2804C21.921 22.1398 22 21.949 22 21.7501C22 21.5512 21.921 21.3604 21.7803 21.2198C21.6397 21.0791 21.4489 21.0001 21.25 21.0001H19.25C19.4489 21.0001 19.6397 20.9211 19.7803 20.7804C19.921 20.6398 20 20.449 20 20.2501C20 20.0512 19.921 19.8604 19.7803 19.7198C19.6397 19.5791 19.4489 19.5001 19.25 19.5001H14.75Z"
                        fill="#5063F4" />
                </svg>
            </div>
            <div class="clicked" @click="chatClicked" :id="'chat' + id">
                <Tooltip v-if="true" message="Chat " :target="'chat' + id" />
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                    <path
                        d="M16.278 8.62004C15.7125 7.24862 14.7377 6.08502 13.4866 5.28794C12.2355 4.49085 10.7689 4.09908 9.287 4.16604C5.27 4.16604 2 6.96704 2 10.414C2.01594 11.3552 2.25781 12.2788 2.70523 13.107C3.15266 13.9352 3.79254 14.6438 4.571 15.173L3.707 16.9C3.67188 16.9811 3.66275 17.071 3.68088 17.1575C3.699 17.2439 3.74348 17.3226 3.8082 17.3827C3.87291 17.4428 3.95467 17.4814 4.04221 17.4931C4.12975 17.5048 4.21877 17.489 4.297 17.448L6.486 16.189C7.0846 16.3973 7.7049 16.5368 8.335 16.605C9.188 16.605 8.554 15.511 8.652 14.997C8.652 11.78 11.836 9.16504 15.742 9.16504C15.8173 9.18576 15.8968 9.18594 15.9722 9.16559C16.0477 9.14523 16.1163 9.10507 16.171 9.04927C16.2256 8.99347 16.2644 8.92406 16.2832 8.84824C16.302 8.77241 16.3002 8.69294 16.278 8.61804M6.551 9.14205C6.22027 9.14205 5.9031 9.01066 5.66924 8.77681C5.43538 8.54295 5.304 8.22577 5.304 7.89504C5.30732 7.56405 5.44198 7.24794 5.67837 7.01624C5.91476 6.78454 6.23351 6.65623 6.5645 6.65954C6.89549 6.66286 7.21161 6.79752 7.44331 7.03391C7.67501 7.2703 7.80332 7.58905 7.8 7.92004C7.79396 8.24729 7.65951 8.55904 7.42566 8.78803C7.1918 9.01702 6.8773 9.14489 6.55 9.14404M11.55 9.14404C11.2207 9.13969 10.9066 9.00527 10.676 8.77012C10.4455 8.53498 10.3173 8.21819 10.3195 7.8889C10.3217 7.55962 10.454 7.24456 10.6877 7.01248C10.9213 6.7804 11.2372 6.65015 11.5665 6.65015C11.8958 6.65015 12.2117 6.7804 12.4453 7.01248C12.679 7.24456 12.8113 7.55962 12.8135 7.8889C12.8157 8.21819 12.6875 8.53498 12.457 8.77012C12.2264 9.00527 11.9123 9.13969 11.583 9.14404H11.55Z"
                        fill="#9CA1AA" />
                    <path
                        d="M22 14.998C22 12.241 19.2 9.99805 15.753 9.99805C12.306 9.99805 9.495 12.186 9.495 14.998C9.495 17.81 12.306 19.998 15.753 19.998C16.3986 20.0005 17.0419 19.9198 17.667 19.758L19.735 20.797C19.8114 20.8359 19.8979 20.8502 19.9827 20.8381C20.0675 20.8259 20.1465 20.7878 20.2089 20.7291C20.2713 20.6703 20.314 20.5937 20.3312 20.5098C20.3484 20.4258 20.3392 20.3386 20.305 20.26L19.746 18.849C20.4112 18.444 20.9654 17.88 21.3588 17.2079C21.7522 16.5357 21.9725 15.7764 22 14.998ZM13.663 14.166C13.4425 14.166 13.231 14.0784 13.075 13.9225C12.9191 13.7666 12.8315 13.5551 12.8315 13.3345C12.8315 13.114 12.9191 12.9025 13.075 12.7466C13.231 12.5907 13.4425 12.503 13.663 12.503C13.8845 12.5033 14.097 12.5907 14.2546 12.7464C14.4122 12.9021 14.5021 13.1136 14.505 13.335C14.5021 13.5564 14.4121 13.7678 14.2545 13.9233C14.0969 14.0789 13.8844 14.1661 13.663 14.166ZM17.831 14.166C17.7194 14.1699 17.6081 14.1513 17.5039 14.1112C17.3996 14.0712 17.3045 14.0106 17.2241 13.933C17.1438 13.8554 17.0799 13.7624 17.0363 13.6596C16.9926 13.5568 16.9702 13.4462 16.9702 13.3345C16.9702 13.2229 16.9926 13.1123 17.0363 13.0095C17.0799 12.9067 17.1438 12.8137 17.2241 12.7361C17.3045 12.6585 17.3996 12.5979 17.5039 12.5579C17.6081 12.5178 17.7194 12.4992 17.831 12.503C18.0465 12.5105 18.2507 12.6014 18.4006 12.7565C18.5504 12.9116 18.6342 13.1189 18.6342 13.3345C18.6342 13.5502 18.5504 13.7575 18.4006 13.9126C18.2507 14.0677 18.0465 14.1586 17.831 14.166Z"
                        fill="#9CA1AA" />
                </svg>
            </div>
        </div>
        <OfferChatComponent from="CT" :reference="reference" :recipient="organization_data" :offer_id="offer_id"
            @closeModal="show_chat = false" :show="show_chat" v-if="show_chat">
        </OfferChatComponent>
    </div>
</template>
<script>
import OfferChatComponent from '../../../shared/OfferChatComponent.vue';
import { userCan } from '../../../../../utils/GlobalUtils';
import Tooltip from '../../../../shared/Tooltip.vue';
export default {
    props: ['id', 'userLoggedIn', 'offer_id', 'organization_data', 'reference'],
    data() {
        return {
            show_chat: false
        }
    },
    components: {
        Tooltip,
        OfferChatComponent
    },
    methods: {
        userCan(b) {
            return userCan(this.userLoggedIn, b)
        },
        viewClicked() {
            this.$emit('showOffer', this.id)
        },
        counterClicked() {
            this.$emit('showCounterOffer', this.id)
            // console.log('Counter Clicked')
        },
        chatClicked() {
            this.show_chat = true
            // console.log('Chat Clicked')
        },
    }
}
</script>

<style scoped>
.clicked {
    cursor: pointer;
}
</style>